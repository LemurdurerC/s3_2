import json
import base64
import sys
import boto3
import io
from io import BytesIO
import re
import base64
from PIL import Image
from botocore.exceptions import NoCredentialsError




s3 = boto3.client('s3')
#dec = event['image']
dec = "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"
buffer = BytesIO()
im = Image.open(BytesIO(base64.b64decode(dec + "-")))
print("im = Image.open(BytesIO(base64.b64decode")
in_mem_file = io.BytesIO()
print("in_mem_file = io.BytesIO()")
im.save(in_mem_file, format=im.format)
print("im.save(in_mem_file, format=im.format)")
in_mem_file.seek(0)
print("in_mem_file.seek(0)")
s3 = boto3.client('s3', aws_access_key_id=ACCESS_KEY,
                  aws_secret_access_key=SECRET_KEY)
print(" in_mem_file.seek(0)")

print("ici")
#s3.put_object(Body=buffer, Bucket='dataset-fyc', Key='t.jpeg',  ContentType='image/jpeg')
s3.upload_fileobj(in_mem_file,'dataset-fyc', Key='t.jpeg', ExtraArgs={
'ACL': 'public-read'
})
    # print("ici2")
    # print("Upload Successful")
    # return True
# except FileNotFoundError:
    # print("The file was not found")
    # return False
# except NoCredentialsError:
    # print("Credentials not available")
    # return False            
# except Exception as e:
    # print(e)
